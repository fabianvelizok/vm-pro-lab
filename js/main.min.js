!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){!function(){const e=document.querySelector(".header"),t=document.querySelector("[data-menu-toggle]"),n=document.querySelector("[data-menu]"),o=document.querySelectorAll(".nav-link");let r=0;if(window.addEventListener("scroll",function(){const t=window.pageYOffset;t>0?e.classList.add("scrolled"):e.classList.remove("scrolled"),r=t},{passive:!0}),t&&n){let i=[],a=null,c=null;function s(){n.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","Abrir menú de navegación"),document.removeEventListener("keydown",d),document.body.style.overflow="",t.focus()}function l(){n.classList.add("active"),t.classList.add("active"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-label","Cerrar menú de navegación"),i=n.querySelectorAll('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])'),i.length>0&&(a=i[0],c=i[i.length-1],a.focus()),document.addEventListener("keydown",d),document.body.style.overflow="hidden"}function d(e){"Escape"!==e.key?"Tab"===e.key&&(e.shiftKey?document.activeElement===a&&(c.focus(),e.preventDefault()):document.activeElement===c&&(a.focus(),e.preventDefault())):s()}t.addEventListener("click",function(){"true"===t.getAttribute("aria-expanded")?s():l()}),o.forEach(function(e){e.addEventListener("click",function(){s()})}),document.addEventListener("click",function(e){const o=n.contains(e.target),r=t.contains(e.target),i=n.classList.contains("active");o||r||!i||s()})}}(),function(){const e=document.querySelectorAll(".nav-link"),t=[];if(e.forEach(function(e){const n=document.querySelector(e.getAttribute("href"));n&&t.push({link:e,section:n})}),0===t.length)return;function n(e){t.forEach(function(e){e.link.removeAttribute("aria-current");const t=e.link.querySelector("[data-sr-indicator]");t&&t.remove()}),e.setAttribute("aria-current","true");const n=document.createElement("span");n.className="visually-hidden",n.setAttribute("data-sr-indicator",""),n.textContent=", sección actual",e.appendChild(n)}const o=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&t.forEach(function(t){t.section===e.target&&n(t.link)})})},{rootMargin:"-40% 0px -50% 0px"});t.forEach(function(e){o.observe(e.section)})}(),function(){const e=document.getElementById("my-form");if(!e)return;const t=document.getElementById("name"),n=document.getElementById("email"),o=document.getElementById("message");function r(e,t){const n=document.getElementById(e.id+"-error");t?(e.setAttribute("aria-invalid","true"),n.textContent=t):(e.setAttribute("aria-invalid","false"),n.textContent="")}function i(){const e=t.value.trim();return e?e.length<2?(r(t,"El nombre debe tener al menos 2 caracteres"),!1):(r(t,""),!0):(r(t,"El nombre es requerido"),!1)}function a(){const e=n.value.trim();if(!e)return r(n,"El email es requerido"),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(r(n,""),!0):(r(n,"Por favor ingresa un email válido"),!1)}function c(){const e=o.value.trim();return e?e.length<10?(r(o,"El mensaje debe tener al menos 10 caracteres"),!1):(r(o,""),!0):(r(o,"El mensaje es requerido"),!1)}function s(){const e=i(),t=a(),n=c();return e&&t&&n}t.addEventListener("blur",i),n.addEventListener("blur",a),o.addEventListener("blur",c),e.addEventListener("submit",async function(i){if(i.preventDefault(),!s()){const t=e.querySelector('[aria-invalid="true"]');return void(t&&t.focus())}const a=document.getElementById("my-form-status"),c=document.getElementById("my-form-button"),l=new FormData(i.target);c.disabled=!0,c.textContent="Enviando...";try{const c=await fetch(i.target.action,{method:e.method,body:l,headers:{Accept:"application/json"}});if(c.ok)a.innerHTML="¡Gracias por tu mensaje! Te responderemos pronto.",a.style.color="#10B981",a.style.marginTop="1rem",a.style.fontWeight="600",e.reset(),r(t,""),r(n,""),r(o,"");else{const e=await c.json();e.errors?a.innerHTML=e.errors.map(function(e){return e.message}).join(", "):a.innerHTML="Hubo un problema al enviar el formulario. Intenta nuevamente.",a.style.color="#EF4444",a.style.marginTop="1rem",a.style.fontWeight="600"}}catch(e){a.innerHTML="Hubo un problema al enviar el formulario. Intenta nuevamente.",a.style.color="#EF4444",a.style.marginTop="1rem",a.style.fontWeight="600"}finally{c.disabled=!1,c.textContent="Enviar mensaje"}})}(),function(){const e=document.querySelector("#technologies");if(!e)return;let t=!1;const n=new IntersectionObserver(function(o){o.forEach(function(o){if(o.isIntersecting&&!t){e.classList.add("devicon-loading");const o=document.createElement("link");o.rel="stylesheet",o.href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css",o.onload=function(){e.classList.remove("devicon-loading"),e.classList.add("devicon-loaded")},document.head.appendChild(o),t=!0,n.disconnect()}})},{rootMargin:"300px"});n.observe(e)}()})}();