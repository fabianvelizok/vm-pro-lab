!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){!function(){const e=document.querySelector(".header"),t=document.querySelector("[data-menu-toggle]"),n=document.querySelector("[data-menu]"),r=document.querySelectorAll(".nav-link");let o=0;if(window.addEventListener("scroll",function(){const t=window.pageYOffset;t>0?e.classList.add("scrolled"):e.classList.remove("scrolled"),o=t},{passive:!0}),t&&n){let a=[],i=null,s=null;function c(){n.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","Abrir menú de navegación"),document.removeEventListener("keydown",l),document.body.style.overflow="",t.focus()}function d(){n.classList.add("active"),t.classList.add("active"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-label","Cerrar menú de navegación"),a=n.querySelectorAll('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])'),a.length>0&&(i=a[0],s=a[a.length-1],i.focus()),document.addEventListener("keydown",l),document.body.style.overflow="hidden"}function l(e){"Escape"!==e.key?"Tab"===e.key&&(e.shiftKey?document.activeElement===i&&(s.focus(),e.preventDefault()):document.activeElement===s&&(i.focus(),e.preventDefault())):c()}t.addEventListener("click",function(){"true"===t.getAttribute("aria-expanded")?c():d()}),r.forEach(function(e){e.addEventListener("click",function(){c()})}),document.addEventListener("click",function(e){const r=n.contains(e.target),o=t.contains(e.target),a=n.classList.contains("active");r||o||!a||c()})}}(),function(){const e=document.querySelectorAll(".nav-link"),t=[];if(e.forEach(function(e){const n=document.querySelector(e.getAttribute("href"));n&&t.push({link:e,section:n})}),0===t.length)return;function n(e){t.forEach(function(e){e.link.removeAttribute("aria-current");const t=e.link.querySelector("[data-sr-indicator]");t&&t.remove()}),e.setAttribute("aria-current","true");const n=document.createElement("span");n.className="visually-hidden",n.setAttribute("data-sr-indicator",""),n.textContent=", sección actual",e.appendChild(n)}const r=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&t.forEach(function(t){t.section===e.target&&n(t.link)})})},{rootMargin:"-40% 0px -50% 0px"});t.forEach(function(e){r.observe(e.section)})}(),function(){const e=document.getElementById("my-form");if(!e)return;const t=document.getElementById("name"),n=document.getElementById("email"),r=document.getElementById("message");function o(e,t){const n=document.getElementById(e.id+"-error");t?(e.setAttribute("aria-invalid","true"),n.textContent=t):(e.setAttribute("aria-invalid","false"),n.textContent="")}function a(){const e=t.value.trim();return e?e.length<2?(o(t,"El nombre debe tener al menos 2 caracteres"),!1):(o(t,""),!0):(o(t,"El nombre es requerido"),!1)}function i(){const e=n.value.trim();if(!e)return o(n,"El email es requerido"),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(o(n,""),!0):(o(n,"Por favor ingresa un email válido"),!1)}function s(){const e=r.value.trim();return e?e.length<10?(o(r,"El mensaje debe tener al menos 10 caracteres"),!1):(o(r,""),!0):(o(r,"El mensaje es requerido"),!1)}function c(){const e=a(),t=i(),n=s();return e&&t&&n}t.addEventListener("blur",a),n.addEventListener("blur",i),r.addEventListener("blur",s),e.addEventListener("submit",async function(a){if(a.preventDefault(),!c()){const t=e.querySelector('[aria-invalid="true"]');return void(t&&t.focus())}const i=document.getElementById("my-form-status"),s=document.getElementById("my-form-button"),d=new FormData(a.target),l=s.textContent;e.setAttribute("aria-busy","true"),s.disabled=!0,s.classList.add("btn-loading"),s.innerHTML='<span class="btn-text">'+l+'</span><span class="btn-spinner" aria-hidden="true"></span>';try{const s=await fetch(a.target.action,{method:e.method,body:d,headers:{Accept:"application/json"}});if(s.ok)i.innerHTML='<span aria-hidden="true">✓</span> ¡Gracias por tu mensaje! Te responderemos pronto.',i.style.color="#10B981",i.style.marginTop="1rem",i.style.fontWeight="600",e.reset(),o(t,""),o(n,""),o(r,"");else{const e=await s.json();e.errors?i.innerHTML='<span aria-hidden="true">✗</span> '+e.errors.map(function(e){return e.message}).join(", "):i.innerHTML='<span aria-hidden="true">✗</span> Hubo un problema al enviar el formulario. Intenta nuevamente.',i.style.color="#EF4444",i.style.marginTop="1rem",i.style.fontWeight="600"}}catch(e){i.innerHTML='<span aria-hidden="true">✗</span> Hubo un problema al enviar el formulario. Intenta nuevamente.',i.style.color="#EF4444",i.style.marginTop="1rem",i.style.fontWeight="600"}finally{e.setAttribute("aria-busy","false"),s.disabled=!1,s.classList.remove("btn-loading"),s.textContent=l}})}(),function(){const e=document.querySelector("#technologies");if(!e)return;let t=!1;const n=new IntersectionObserver(function(r){r.forEach(function(r){if(r.isIntersecting&&!t){e.classList.add("devicon-loading");const r=document.createElement("link");r.rel="stylesheet",r.href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css",r.onload=function(){e.classList.remove("devicon-loading"),e.classList.add("devicon-loaded")},document.head.appendChild(r),t=!0,n.disconnect()}})},{rootMargin:"300px"});n.observe(e)}()})}();